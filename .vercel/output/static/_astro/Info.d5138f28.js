import{j as s}from"./jsx-runtime.e2a65d70.js";import{r as i,m as S}from"./index.364e49f0.js";import{f as se,c as V,p as ne,S as Q,D as F,y as A,s as z,o as P,l as G,X as _,I as Z,a as ae,u as M,b as L,N as U,e as ie,d as j,O as R,M as w,t as ce}from"./use-is-mounted.259a8089.js";function oe({title:e,titleId:t,...l},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},l),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z",clipRule:"evenodd"}))}const ue=i.forwardRef(oe),de=ue;function xe({onFocus:e}){let[t,l]=i.useState(!0),r=se();return t?S.createElement(V,{as:"button",type:"button",features:ne.Focusable,onFocus:n=>{n.preventDefault();let a,o=50;function f(){if(o--<=0){a&&cancelAnimationFrame(a);return}if(e()){if(cancelAnimationFrame(a),!r.current)return;l(!1);return}a=requestAnimationFrame(f)}a=requestAnimationFrame(f)}}):null}const ee=i.createContext(null);function pe(){return{groups:new Map,get(e,t){var l;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let n=(l=r.get(t))!=null?l:0;r.set(t,n+1);let a=Array.from(r.keys()).indexOf(t);function o(){let f=r.get(t);f>1?r.set(t,f-1):r.delete(t)}return[a,o]}}}function me({children:e}){let t=i.useRef(pe());return i.createElement(ee.Provider,{value:t},e)}function te(e){let t=i.useContext(ee);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let l=fe(),[r,n]=t.current.get(e,l);return i.useEffect(()=>n,[]),r}function fe(){var e,t,l;let r=(l=(t=(e=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?l:null;if(!r)return Symbol();let n=[],a=r;for(;a;)n.push(a.index),a=a.return;return"$."+n.join(".")}var ge=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ge||{}),he=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(he||{}),be=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(be||{});let ve={0(e,t){var l;let r=L(e.tabs,d=>d.current),n=L(e.panels,d=>d.current),a=r.filter(d=>{var b;return!((b=d.current)!=null&&b.hasAttribute("disabled"))}),o={...e,tabs:r,panels:n};if(t.index<0||t.index>r.length-1){let d=M(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>M(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(a.length===0)return o;let b=M(d,{0:()=>r.indexOf(a[0]),1:()=>r.indexOf(a[a.length-1])});return{...o,selectedIndex:b===-1?e.selectedIndex:b}}let f=r.slice(0,t.index),N=[...r.slice(t.index),...f].find(d=>a.includes(d));if(!N)return o;let g=(l=r.indexOf(N))!=null?l:e.selectedIndex;return g===-1&&(g=e.selectedIndex),{...o,selectedIndex:g}},1(e,t){var l;if(e.tabs.includes(t.tab))return e;let r=e.tabs[e.selectedIndex],n=L([...e.tabs,t.tab],o=>o.current),a=(l=n.indexOf(r))!=null?l:e.selectedIndex;return a===-1&&(a=e.selectedIndex),{...e,tabs:n,selectedIndex:a}},2(e,t){return{...e,tabs:e.tabs.filter(l=>l!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:L([...e.panels,t.panel],l=>l.current)}},4(e,t){return{...e,panels:e.panels.filter(l=>l!==t.panel)}}},Y=i.createContext(null);Y.displayName="TabsDataContext";function k(e){let t=i.useContext(Y);if(t===null){let l=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,k),l}return t}let H=i.createContext(null);H.displayName="TabsActionsContext";function K(e){let t=i.useContext(H);if(t===null){let l=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,K),l}return t}function je(e,t){return M(t.type,ve,e,t)}let we=i.Fragment;function Ne(e,t){let{defaultIndex:l=0,vertical:r=!1,manual:n=!1,onChange:a,selectedIndex:o=null,...f}=e;const N=r?"vertical":"horizontal",g=n?"manual":"auto";let d=o!==null,b=A(t),[u,v]=i.useReducer(je,{selectedIndex:o??l,tabs:[],panels:[]}),p=i.useMemo(()=>({selectedIndex:u.selectedIndex}),[u.selectedIndex]),D=z(a||(()=>{})),O=z(u.tabs),m=i.useMemo(()=>({orientation:N,activation:g,...u}),[N,g,u]),h=P(x=>(v({type:1,tab:x}),()=>v({type:2,tab:x}))),E=P(x=>(v({type:3,panel:x}),()=>v({type:4,panel:x}))),T=P(x=>{$.current!==x&&D.current(x),d||v({type:0,index:x})}),$=z(d?e.selectedIndex:u.selectedIndex),W=i.useMemo(()=>({registerTab:h,registerPanel:E,change:T}),[]);G(()=>{v({type:0,index:o??l})},[o]),G(()=>{if($.current===void 0||u.tabs.length<=0)return;let x=L(u.tabs,I=>I.current);x.some((I,c)=>u.tabs[c]!==I)&&T(x.indexOf(u.tabs[$.current]))});let q={ref:b};return S.createElement(me,null,S.createElement(H.Provider,{value:W},S.createElement(Y.Provider,{value:m},m.tabs.length<=0&&S.createElement(xe,{onFocus:()=>{var x,I;for(let c of O.current)if(((x=c.current)==null?void 0:x.tabIndex)===0)return(I=c.current)==null||I.focus(),!0;return!1}}),_({ourProps:q,theirProps:f,slot:p,defaultTag:we,name:"Tabs"}))))}let ye="div";function Ie(e,t){let{orientation:l,selectedIndex:r}=k("Tab.List"),n=A(t);return _({ourProps:{ref:n,role:"tablist","aria-orientation":l},theirProps:e,slot:{selectedIndex:r},defaultTag:ye,name:"Tabs.List"})}let Ee="button";function Te(e,t){var l,r;let n=Z(),{id:a=`headlessui-tabs-tab-${n}`,...o}=e,{orientation:f,activation:N,selectedIndex:g,tabs:d,panels:b}=k("Tab"),u=K("Tab"),v=k("Tab"),p=i.useRef(null),D=A(p,t);G(()=>u.registerTab(p),[u,p]);let O=te("tabs"),m=d.indexOf(p);m===-1&&(m=O);let h=m===g,E=P(c=>{var y;let B=c();if(B===U.Success&&N==="auto"){let re=(y=ie(p))==null?void 0:y.activeElement,J=v.tabs.findIndex(le=>le.current===re);J!==-1&&u.change(J)}return B}),T=P(c=>{let y=d.map(B=>B.current).filter(Boolean);if(c.key===j.Space||c.key===j.Enter){c.preventDefault(),c.stopPropagation(),u.change(m);return}switch(c.key){case j.Home:case j.PageUp:return c.preventDefault(),c.stopPropagation(),E(()=>R(y,w.First));case j.End:case j.PageDown:return c.preventDefault(),c.stopPropagation(),E(()=>R(y,w.Last))}if(E(()=>M(f,{vertical(){return c.key===j.ArrowUp?R(y,w.Previous|w.WrapAround):c.key===j.ArrowDown?R(y,w.Next|w.WrapAround):U.Error},horizontal(){return c.key===j.ArrowLeft?R(y,w.Previous|w.WrapAround):c.key===j.ArrowRight?R(y,w.Next|w.WrapAround):U.Error}}))===U.Success)return c.preventDefault()}),$=i.useRef(!1),W=P(()=>{var c;$.current||($.current=!0,(c=p.current)==null||c.focus({preventScroll:!0}),u.change(m),ce(()=>{$.current=!1}))}),q=P(c=>{c.preventDefault()}),x=i.useMemo(()=>({selected:h}),[h]),I={ref:D,onKeyDown:T,onMouseDown:q,onClick:W,id:a,role:"tab",type:ae(e,p),"aria-controls":(r=(l=b[m])==null?void 0:l.current)==null?void 0:r.id,"aria-selected":h,tabIndex:h?0:-1};return _({ourProps:I,theirProps:o,slot:x,defaultTag:Ee,name:"Tabs.Tab"})}let $e="div";function Pe(e,t){let{selectedIndex:l}=k("Tab.Panels"),r=A(t),n=i.useMemo(()=>({selectedIndex:l}),[l]);return _({ourProps:{ref:r},theirProps:e,slot:n,defaultTag:$e,name:"Tabs.Panels"})}let Re="div",Se=Q.RenderStrategy|Q.Static;function ke(e,t){var l,r,n,a;let o=Z(),{id:f=`headlessui-tabs-panel-${o}`,tabIndex:N=0,...g}=e,{selectedIndex:d,tabs:b,panels:u}=k("Tab.Panel"),v=K("Tab.Panel"),p=i.useRef(null),D=A(p,t);G(()=>v.registerPanel(p),[v,p]);let O=te("panels"),m=u.indexOf(p);m===-1&&(m=O);let h=m===d,E=i.useMemo(()=>({selected:h}),[h]),T={ref:D,id:f,role:"tabpanel","aria-labelledby":(r=(l=b[m])==null?void 0:l.current)==null?void 0:r.id,tabIndex:h?N:-1};return!h&&((n=g.unmount)==null||n)&&!((a=g.static)!=null&&a)?S.createElement(V,{as:"span",...T}):_({ourProps:T,theirProps:g,slot:E,defaultTag:Re,features:Se,visible:h,name:"Tabs.Panel"})}let De=F(Te),Oe=F(Ne),Ce=F(Ie),Le=F(Pe),Me=F(ke),C=Object.assign(De,{Group:Oe,List:Ce,Panels:Le,Panel:Me});function X(...e){return e.filter(Boolean).join(" ")}function Be({dataAnime:e,episodes:t}){const[l]=i.useState({characters:e.characters,related:e.related,episodes:t.episodes});return s.jsx("section",{className:"",children:s.jsxs("div",{className:"pt-6",children:[s.jsx("div",{className:"mx-auto mt-6 max-w-2xl sm:px-6 lg:grid lg:max-w-7xl lg:grid-cols-3 lg:gap-x-8 lg:px-8",children:s.jsx("div",{className:"aspect-h-5 aspect-w-4 lg:aspect-h-4 lg:aspect-w-3 sm:overflow-hidden sm:rounded-lg sx:flex sx:justify-center",children:s.jsx("img",{src:e.poster,alt:e.title,width:260,height:370,className:"object-cover object-center"})})}),s.jsxs("div",{className:"mx-auto max-w-2xl px-4 pb-16 pt-10 sm:px-6 lg:grid lg:max-w-7xl lg:grid-cols-3 lg:grid-rows-[auto,auto,1fr] lg:gap-x-8 lg:px-8 lg:pb-24 lg:pt-16",children:[s.jsx("div",{className:"lg:col-span-2 lg:border-r lg:border-orange-700 lg:pr-8",children:s.jsx("h1",{className:"text-2xl font-bold tracking-tight sm:text-3xl",children:e.title})}),s.jsxs("div",{className:"mt-4 lg:row-span-3 lg:mt-0",children:[s.jsx("h2",{className:"sr-only",children:"Anime information"}),s.jsx("p",{className:"text-1xl tracking-tight ",children:e.status}),s.jsxs("p",{className:"text-1xl tracking-tight ",children:["Episodios: ",e.moreInfo[0].totalEpisodes]}),s.jsxs("p",{className:"text-1xl tracking-tight ",children:["Generos:",e.genres.map(r=>s.jsxs("span",{className:"text-1xl tracking-tight ",children:[" ",r," "]},r))]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"sr-only",children:"Rating"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex items-center",children:[0,1,2,3,4].map(r=>s.jsx(de,{className:X(parseInt(e.rating)>r?"text-orange-600":"text-gray-200","h-5 w-5 flex-shrink-0"),"aria-hidden":"true"},r))}),s.jsxs("p",{className:" text-white",children:[" ",e.rating," de 5 estrellas"]})]})]})]}),s.jsxs("div",{className:"py-10 lg:col-span-2 lg:col-start-1 lg:border-r lg:border-orange-500 lg:pb-16 lg:pr-8 lg:pt-6 justify-center items-center flex flex-col",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"sr-only",children:"Description"}),s.jsx("div",{className:"space-y-6",children:s.jsx("p",{className:"text-base text-white",children:e.synopsis})})]}),s.jsx("div",{className:"w-full max-w-xl px-2 py-16 sm:px-0 ",children:s.jsxs(C.Group,{children:[s.jsx(C.List,{className:"flex space-x-1 rounded-xl bg-slate-950 p-1",children:Object.keys(l).map(r=>s.jsx(C,{className:({selected:n})=>X("w-full rounded-lg py-2.5 text-sm font-medium leading-5 ","ring-white ring-opacity-60 ring-offset-2  focus:outline-none focus:ring-2",n?"bg-slate-700 shadow":"text-white hover:bg-white/[0.12] hover:text-white"),children:r},r))}),s.jsx(C.Panels,{className:"mt-2 overflow-y-scroll h-96 w-full transparentScrollbar rounded-xl ",children:Object.keys(l).map(r=>s.jsxs(C.Panel,{className:X("rounded-xl bg-slate-950 p-3","ring-slate-700 ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2"),children:[r==="characters"&&s.jsx("ul",{className:"",children:l.characters.map(n=>s.jsx("li",{className:"rounded-md p-3 hover:bg-slate-700 flex justify-center ",children:s.jsxs("h3",{className:"text-sm font-medium leading-5 flex items-center ",children:[n.name,s.jsx("p",{className:"ml-5",children:n.role}),"  ",s.jsx("img",{src:n.image,alt:n.name,width:70,height:70,className:"object-cover ml-5"})]})},n.id))}),r==="related"&&s.jsx("ul",{children:l.related.map(n=>s.jsxs("li",{className:"relative rounded-md p-3 hover:bg-slate-700",children:[s.jsx("h3",{className:"text-sm font-medium leading-5",children:n.title}),s.jsx("img",{src:n.poster,alt:n.title,width:80,height:80}),s.jsx("p",{children:n.type})]},n.title))}),r==="episodes"&&s.jsx("ul",{children:l.episodes.map((n,a)=>s.jsx("li",{className:"relative h-10 rounded-md hover:bg-slate-700 flex items-center",children:s.jsxs("a",{href:`/anime/${n.id}`,className:"ml-3",children:["Watch ",s.jsxs("span",{className:"ml-1  ",children:["Episode ",n.episode]})]})},a))})]},r))})]})})]})]})]})})}export{Be as default};
